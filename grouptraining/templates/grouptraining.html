{% extends 'base.html' %} {% load static %} {% block head_js %}
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
<script
  src="https://maps.googleapis.com/maps/api/js?key={{key}}&callback=initMap&libraries=&v=weekly"
  defer
></script>
<script src="{% static 'js/maps.js' %}"></script>
{% endblock %} {% block content %}

<div class="container">
  <h2>Group training!</h2>
  {% for event in events %}
  <p>{{event.name}}</p>
  <p>{{event.description}}</p>
  <p>{{event.price}}</p>
  <p>{{event.address}}</p>

  <div id="map"></div>
</div>

<script>
  let map;
  var position = { lat: {{event.geolocation.lat}}, lng: {{event.geolocation.lon}} };

  function initMap() {
    map = new google.maps.Map(document.getElementById("map"), {
      center: position,
      zoom: 13,
    });
    var marker = new google.maps.Marker({position: position, map: map});
  }
</script>

{% endfor %} {% endblock %}
